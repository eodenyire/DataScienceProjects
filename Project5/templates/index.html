{% extends "base.html" %}

{% block title %}Home - Text Extractor{% endblock %}

{% block content %}
<style>
    .upload-section {
        background: #f8f9fa;
        padding: 40px;
        border-radius: 8px;
        margin-bottom: 30px;
    }
    
    .upload-section h2 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 1.8em;
    }
    
    .form-group {
        margin-bottom: 25px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
    }
    
    .form-group input[type="file"] {
        width: 100%;
        padding: 12px;
        border: 2px dashed #667eea;
        border-radius: 5px;
        background: white;
        cursor: pointer;
    }
    
    .form-group select {
        width: 100%;
        padding: 12px;
        border: 2px solid #e9ecef;
        border-radius: 5px;
        background: white;
        font-size: 1em;
    }
    
    .checkbox-group {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .checkbox-group input[type="checkbox"] {
        width: 20px;
        height: 20px;
        cursor: pointer;
    }
    
    .features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 40px;
    }
    
    .feature-card {
        background: white;
        padding: 25px;
        border-radius: 8px;
        border: 2px solid #e9ecef;
        text-align: center;
        transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }
    
    .feature-card .icon {
        font-size: 3em;
        margin-bottom: 15px;
    }
    
    .feature-card h3 {
        color: #667eea;
        margin-bottom: 10px;
    }
    
    .feature-card p {
        color: #6c757d;
        line-height: 1.6;
    }
    
    .info-box {
        background: #e7f3ff;
        border-left: 4px solid #667eea;
        padding: 20px;
        margin-top: 30px;
        border-radius: 5px;
    }
    
    .info-box h3 {
        color: #667eea;
        margin-bottom: 10px;
    }
    
    .info-box ul {
        margin-left: 20px;
    }
    
    .info-box li {
        margin-bottom: 8px;
        color: #333;
    }
</style>

<div class="upload-section">
    <h2>üñºÔ∏è Upload Image for Text Extraction</h2>
    <form action="{{ url_for('extract') }}" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="file">Select Image File:</label>
            <input type="file" id="file" name="file" accept="image/*" required>
            <small style="color: #6c757d; display: block; margin-top: 5px;">
                Supported formats: PNG, JPG, JPEG, GIF, BMP, TIFF, WebP (Max: 16MB)
            </small>
        </div>
        
        <div class="form-group">
            <label for="language">OCR Language:</label>
            <select id="language" name="language">
                <option value="eng" selected>English</option>
                <option value="fra">French</option>
                <option value="deu">German</option>
                <option value="spa">Spanish</option>
                <option value="ita">Italian</option>
                <option value="por">Portuguese</option>
                <option value="rus">Russian</option>
                <option value="chi_sim">Chinese (Simplified)</option>
                <option value="jpn">Japanese</option>
                <option value="ara">Arabic</option>
            </select>
            <small style="color: #6c757d; display: block; margin-top: 5px;">
                Note: Additional languages may require Tesseract language data to be installed
            </small>
        </div>
        
        <div class="form-group">
            <div class="checkbox-group">
                <input type="checkbox" id="preprocess" name="preprocess">
                <label for="preprocess" style="margin-bottom: 0;">
                    Apply image preprocessing (improves accuracy for low-quality images)
                </label>
            </div>
        </div>
        
        <div class="form-group">
            <div class="checkbox-group">
                <input type="checkbox" id="show_confidence" name="show_confidence">
                <label for="show_confidence" style="margin-bottom: 0;">
                    Show confidence scores for extracted words
                </label>
            </div>
        </div>
        
        <button type="submit" class="btn">üîç Extract Text</button>
    </form>
</div>

<div class="features">
    <div class="feature-card">
        <div class="icon">üéØ</div>
        <h3>High Accuracy</h3>
        <p>Powered by Tesseract OCR engine for precise text recognition from images</p>
    </div>
    
    <div class="feature-card">
        <div class="icon">‚ö°</div>
        <h3>Fast Processing</h3>
        <p>Extract text from images in seconds with efficient processing</p>
    </div>
    
    <div class="feature-card">
        <div class="icon">üåç</div>
        <h3>Multi-Language</h3>
        <p>Support for multiple languages including English, Spanish, French, and more</p>
    </div>
    
    <div class="feature-card">
        <div class="icon">üñºÔ∏è</div>
        <h3>Image Preprocessing</h3>
        <p>Optional preprocessing to enhance OCR accuracy for challenging images</p>
    </div>
</div>

<div class="info-box">
    <h3>üìö How to Use:</h3>
    <ul>
        <li><strong>Step 1:</strong> Click "Choose File" and select an image containing text</li>
        <li><strong>Step 2:</strong> Select the language of the text in the image</li>
        <li><strong>Step 3:</strong> (Optional) Enable preprocessing for better results with low-quality images</li>
        <li><strong>Step 4:</strong> (Optional) Enable confidence scores to see OCR accuracy</li>
        <li><strong>Step 5:</strong> Click "Extract Text" and view the results</li>
    </ul>
</div>

<div class="info-box" style="background: #fff3cd; border-left-color: #ffc107;">
    <h3>üí° Tips for Best Results:</h3>
    <ul>
        <li>Use high-resolution images with clear, readable text</li>
        <li>Ensure good contrast between text and background</li>
        <li>Avoid images with heavy compression or artifacts</li>
        <li>Enable preprocessing for scanned documents or photos</li>
        <li>Select the correct language for better accuracy</li>
    </ul>
</div>

{% endblock %}
